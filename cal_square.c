/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   cal_square.c                                       :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: ihestin <marvin@42.fr>                     +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2018/01/25 14:29:49 by ihestin           #+#    #+#             */
/*   Updated: 2018/01/25 14:29:56 by ihestin          ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "fillit.h"

static int	g_tf[5][27] = {
	{0, 3, 4, 5, 6, 6, 6, 7, 7, 8, 8, 8, 9, 9, 9, 10, 10,
		10, 10, 11, 11, 11, 11, 11, 12, 12, 12},
	{0, 3, 4, 5, 5, 6, 6, 7, 7, 7, 8, 8, 9, 9, 9, 9, 9,
		10, 10, 10, 11, 11, 11, 11, 11, 11, 12},
	{0, 3, 4, 5, 5, 6, 6, 7, 7, 7, 8, 8, 8, 9, 9, 9, 9,
		10, 10, 10, 10, 11, 11, 11, 11, 11, 12},
	{0, 4, 4, 4, 4, 5, 6, 7, 8, 8, 8, 8, 8, 8, 8, 8, 8,
		9, 9, 10, 10, 11, 11, 12, 12, 12, 12},
	{0, 2, 4, 4, 4, 6, 6, 6, 6, 6, 8, 8, 8, 8, 8, 8, 8,
		10, 10, 10, 10, 10, 10, 10, 10, 10, 12}};

int		ft_countfam(int fam, int nbr)
{
	int	i;

	i = g_tf[fam][nbr];
	return (i);
}

void	resize(t_tt *t)
{
	int fam;
	int nbr;
	int	i;
	int	tot;

	fam = 0;
	i = 0;
	nbr = g_tabinfo[++i].nbt;
	while (i < 19)
	{
		while (i < 19 && fam == g_tabinfo[i].fam)
		{
			nbr = (g_tabinfo[i].nbt > nbr) ? g_tabinfo[i].nbt : nbr;
			i++;
		}
		tot = ft_countfam(fam++, nbr);
		t[26][1] = (tot > t[26][1]) ? tot : t[26][1];
		nbr = 0;
	}
}
